(this["webpackJsonpmelody-of-ours"]=this["webpackJsonpmelody-of-ours"]||[]).push([[0],{11:function(e,n){var t=function(e,n,t){for(var r=t.rows,a=t.columns,o=0-e[n.y][n.x],c=-1;c<2;c+=1)for(var i=-1;i<2;i+=1)o+=e[(c+n.y+a)%a][(i+n.x+r)%r];return o};function r(e,n){return e?n<2?0:2===n||3===n?1:0:3===n?1:0}n.createGrid=function(e){for(var n=e.rows,t=e.columns,r=[],a=0;a<n;a+=1){for(var o=[],c=0;c<t;c+=1)o.push(0);r.push(o)}return r},n.generateNewGrid=function(e,n){for(var a=n.rows,o=n.columns,c=[],i=0;i<a;i+=1){for(var u=[],l=0;l<o;l+=1){var s=t(e,{x:l,y:i},n),d=r(e[i][l],s);u.push(d)}c.push(u)}return c}},29:function(e,n,t){},30:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);t(1);var r,a,o,c=t(18),i=t.n(c),u=(t(29),t(30),t(4)),l="ADVANCE_COLUMN",s="GAME_INIT",d="GAME_PAUSE",g="CELL_CLICK",p="RESET",f="MUTE",j="SPEED_UP",b="SPEED_DOWN",m=t(9),v=t(10),O=v.a.div(r||(r=Object(m.a)(["\n  margin: auto;\n  max-width: 40vw;\n  font-size: 1.5rem;\n\n"]))),y=v.a.div(a||(a=Object(m.a)(["\n  height: 40vw;\n\n  .row {\n    height: 6.25%;\n  }\n  .cell {\n    display: inline-block;\n    width: 6.25%;\n    height: 100%;\n    border: 1px solid pink;\n    background: #F4F4F4;\n    &.active {\n      background: #7f265f;\n      &.playing { animation: trip .2s infinite; }\n    }\n  }\n  .playing { background: #d0f1d0; }\n  @keyframes trip {\n    100% { background-color: #53c94f; }\n  }\n"]))),h=v.a.div(o||(o=Object(m.a)(["\n  height: 50%;\n  padding-top: .5rem;\n    &:hover { cursor: pointer; }\n\n  \n"]))),C=t(0),x=function(e){var n=e.playing,t=e.stop,r=e.start,a=e.reset,o=e.toggleMute,c=e.isMuted,i=e.speedUp,u=e.speedDown;return Object(C.jsx)(h,{children:Object(C.jsxs)("div",{className:"ph3 br-pill br-4 light-gray bg-black w-5",children:[Object(C.jsx)("i",{className:"fas ".concat(n?"fa-pause-circle":"fa-play-circle"," pointer mr2"),onClick:n?t:r}),Object(C.jsx)("i",{className:"fas mr2 fa-trash-alt",onClick:n?null:a}),Object(C.jsx)("i",{className:"fas  mr2 ".concat(c?"fa-volume-off":"fa-volume-up"),onClick:o}),Object(C.jsx)("i",{className:"fas mr2 fa-fast-backward",onClick:u}),Object(C.jsx)("i",{className:"fas mr2 fa-fast-forward",onClick:i})]})})},w=200;var k=Object(u.b)((function(e){return{notes:e.soundBoard.notes,playing:Boolean(e.interval),isMuted:e.soundBoard.mute}}),(function(e){return{start:function(){return e({type:s,interval:setInterval((function(){return e({type:l})}),w)})},stop:function(){return e({type:d})},reset:function(){return e({type:p})},toggleMute:function(){return e({type:f})},speedUp:function(){return e({type:j,interval:setInterval((function(){return e({type:l})}),(w>40&&(w-=40),w))})},speedDown:function(){return e({type:b,interval:setInterval((function(){return e({type:l})}),(w<800&&(w+=40),w))})}}}))((function(e){var n=e.playing,t=e.start,r=e.stop,a=e.reset,o=e.toggleMute,c=e.isMuted,i=e.speedUp,u=e.speedDown;return Object(C.jsx)(x,{playing:n,start:t,stop:r,reset:a,toggleMute:o,isMuted:c,speedDown:u,speedUp:i})})),N=function(e){var n=e.cell,t=e.currentColumn,r=e.playing,a=e.toggleCell,o=e.x,c=e.y,i="cell";return n&&(i+=" active"),t===o&&(i+=" playing"),r||(i+=" pointer"),r?Object(C.jsx)("div",{className:i}):Object(C.jsx)("div",{className:i,onClick:a(o,c)})},B=function(e){var n=e.row,t=e.currentColumn,r=e.toggleCell,a=e.playing,o=e.y;return Object(C.jsx)("div",{className:"row",children:n.map((function(e,n){return Object(C.jsx)(N,{cell:e,currentColumn:t,playing:a,toggleCell:r,y:o,x:n})}))})},E=function(e){var n=e.grid,t=e.currentColumn,r=e.playing,a=e.toggleCell;return Object(C.jsx)(y,{className:"ba o-90 shadow-2 b--dark-pink bw4",children:n.map((function(e,n){return Object(C.jsx)(B,{row:e,currentColumn:t,playing:r,toggleCell:a,y:n})}))})},M=Object(u.b)((function(e){return{grid:e.grid,currentColumn:e.currentColumn,playing:Boolean(e.interval)}}),(function(e){return{toggleCell:function(n,t){return function(){return e({type:g,x:n,y:t})}}}}))((function(e){var n=e.grid,t=e.currentColumn,r=e.playing,a=e.toggleCell;return Object(C.jsx)(E,{grid:n,currentColumn:t,playing:r,toggleCell:a})})),D=t(3),A=t(24),G=t.n(A),I=t(6),U=t.n(I),F=t(11),P=t.n(F),S=new U.a.PolySynth(16,U.a.Synth),L=new U.a.Volume(-16);S.chain(L,U.a.Master),L.mute=!1,G()(S.context,"#root").then((function(){return console.log("iniciar audio")})).catch((function(){return console.log("error")}));var _={grid:P.a.createGrid({rows:16,columns:16}),currentColumn:-1,interval:null,dimensions:{rows:16,columns:16},soundBoard:{notes:["C6","A5","G5","E5","D5","C5","A4","G4","E4","D4","C4","A3","G3","E3","D3","C3"],mute:!1}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case s:return Object(D.a)(Object(D.a)({},e),{},{interval:n.interval});case d:return Object(D.a)(Object(D.a)({},e),{},{interval:clearInterval(e.interval)});case g:var t=e.grid.slice();return 0==t[n.y][n.x]?t[n.y][n.x]=1:t[n.y][n.x]=0,Object(D.a)(Object(D.a)({},e),{},{grid:t});case l:var r=(e.currentColumn+1)%e.dimensions.columns,a=e.grid.map((function(n,t){var r=e.soundBoard.notes;return{active:n[e.currentColumn],note:r[t%r.length]}})).filter((function(e){return e.active})).map((function(e){return e.note}));return S.triggerAttackRelease(a,.2),Object(D.a)(Object(D.a)({},e),{},{soundBoard:Object(D.a)({},e.soundBoard),grid:0===r&&e.currentColumn>0?P.a.generateNewGrid(e.grid,e.dimensions):e.grid,currentColumn:r});case p:return Object(D.a)(Object(D.a)({},e),{},{grid:P.a.createGrid({rows:16,columns:16}),currentColumn:-1,soundBoard:Object(D.a)({},e.soundBoard)});case f:return L.mute=!e.soundBoard.mute,Object(D.a)(Object(D.a)({},e),{},{soundBoard:Object(D.a)(Object(D.a)({},e.soundBoard),{},{mute:!e.soundBoard.mute})});case b:case j:return clearInterval(e.interval),Object(D.a)(Object(D.a)({},e),{},{interval:n.interval});default:return e}},z=t(7),J=Object(z.b)(T);var R=function(){return Object(C.jsx)("div",{className:"App",children:Object(C.jsx)(u.a,{store:J,children:Object(C.jsxs)(O,{id:"majorContainer",children:[Object(C.jsx)("h1",{children:"Melody of ours"}),Object(C.jsx)("p",{children:"Dibuja lo primero que se te pase por la cabeza:"}),Object(C.jsx)(M,{id:"gridContainer"}),Object(C.jsx)(k,{})]})})})},V=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,38)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,o=n.getLCP,c=n.getTTFB;t(e),r(e),a(e),o(e),c(e)}))};i.a.render(Object(C.jsx)(R,{}),document.getElementById("root")),V()}},[[37,1,2]]]);
//# sourceMappingURL=main.cf4884c4.chunk.js.map